{"ast":null,"code":"import{Outlet,useLoaderData,useSubmit}from\"react-router-dom\";import MainNavigation from\"../components/MainNavigation\";import{useEffect}from\"react\";import{getTokenDuration}from\"../util/auth\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RootLayout(){const token=useLoaderData();const submit=useSubmit();// const navigation = useNavigation();\nuseEffect(()=>{if(!token){return;}if(token===\"EXPIRED\"){submit(null,{action:\"/logout\",method:\"post\"});return;}const tokenDuration=getTokenDuration();setTimeout(()=>{submit(null,{action:\"/logout\",method:\"post\"});},tokenDuration);},[token,submit]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MainNavigation,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Outlet,{})})]});}","map":{"version":3,"names":["Outlet","useLoaderData","useSubmit","MainNavigation","useEffect","getTokenDuration","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RootLayout","token","submit","action","method","tokenDuration","setTimeout","children"],"sources":["/Users/baekjaein/git-repo/nextjs/20-react-router-spa-2/frontend/src/pages/Root.js"],"sourcesContent":["import { Outlet, useLoaderData, useSubmit } from \"react-router-dom\";\nimport MainNavigation from \"../components/MainNavigation\";\nimport { useEffect } from \"react\";\nimport { getTokenDuration } from \"../util/auth\";\n\nexport default function RootLayout() {\n  const token = useLoaderData();\n  const submit = useSubmit();\n  // const navigation = useNavigation();\n  useEffect(() => {\n    if (!token) {\n      return;\n    }\n\n    if (token === \"EXPIRED\") {\n      submit(null, { action: \"/logout\", method: \"post\" });\n      return;\n    }\n\n    const tokenDuration = getTokenDuration();\n\n    setTimeout(() => {\n      submit(null, { action: \"/logout\", method: \"post\" });\n    }, tokenDuration);\n  }, [token, submit]);\n\n  return (\n    <>\n      <MainNavigation />\n      <main>\n        {/* {navigation.state === \"loading\" && <p>로딩중...</p>} */}\n        <Outlet />\n      </main>\n    </>\n  );\n}\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,aAAa,CAAEC,SAAS,KAAQ,kBAAkB,CACnE,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,gBAAgB,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAAAC,KAAK,CAAGZ,aAAa,CAAC,CAAC,CAC7B,KAAM,CAAAa,MAAM,CAAGZ,SAAS,CAAC,CAAC,CAC1B;AACAE,SAAS,CAAC,IAAM,CACd,GAAI,CAACS,KAAK,CAAE,CACV,OACF,CAEA,GAAIA,KAAK,GAAK,SAAS,CAAE,CACvBC,MAAM,CAAC,IAAI,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,MAAM,CAAE,MAAO,CAAC,CAAC,CACnD,OACF,CAEA,KAAM,CAAAC,aAAa,CAAGZ,gBAAgB,CAAC,CAAC,CAExCa,UAAU,CAAC,IAAM,CACfJ,MAAM,CAAC,IAAI,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,MAAM,CAAE,MAAO,CAAC,CAAC,CACrD,CAAC,CAAEC,aAAa,CAAC,CACnB,CAAC,CAAE,CAACJ,KAAK,CAAEC,MAAM,CAAC,CAAC,CAEnB,mBACEH,KAAA,CAAAF,SAAA,EAAAU,QAAA,eACEZ,IAAA,CAACJ,cAAc,GAAE,CAAC,cAClBI,IAAA,SAAAY,QAAA,cAEEZ,IAAA,CAACP,MAAM,GAAE,CAAC,CACN,CAAC,EACP,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}